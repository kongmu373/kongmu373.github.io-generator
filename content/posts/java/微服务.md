---
title: "微服务"
date: 2020-06-24T08:24:50+08:00
draft: true
tags: ["微服务"]
series: ["Java体系"]
categories: ["Java体系"]
---

## 什么是微服务
+ 传统开发与微服务的对比图
![微服务](/img/微服务.jpg)
+ 传统大应用的缺点
  + 难以扩展 scale(水平扩展) <<淘宝技术这十年>>
  + 交付时间长，开发慢 (焦油坑)  <<人月神话>>
  + 复杂，维护困难
  + 故障率高
+ 微服务
  + 整个应用按照业务拆分，互相使用RPC/HTTP/REST通信
  + 松散耦合(一个服务挂了不影响另外一个服务)
  + 独立开发，测试，部署，演进
  + 不限制语言

## RPC 
+ Remote Procedure(Method) Call 远程过程调用
![RPC](/img/RPC.jpg)

## 开发一个微服务
+ 将应用按照业务拆分成模块
  + 定义接口，模块间使用接口进行通信
  + 开发服务的提供者
  + 分别部署
+ Maven多模块
  + 好处:代码放在一起管理
  + 坏处: 界限不明显，放在一起的代码容易被人改
+ 不同项目
  + 好处:界限清楚
  + 坏处: 代码不在一起，比较麻烦

## Dubbo: 分布式RPC框架
+ 角色
  + 消费者/提供者/注册中心
+ 功能
  + 负载均衡
  + 容错
  + 限流/降级

## Dubbo服务调用与代理模式
+ 代理模式
  + 在调用服务时，服务的具体实现代码在其他地方
+ 服务调用
  + 分布式注册中心
  + 本地缓存
  + 长连接

